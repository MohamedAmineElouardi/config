server.port=8083
spring.application.name=Api_sbHystrix 


# Base de données H2 pour stocker les données utilisateur
spring.datasource.url=jdbc:h2:file:./data/microservice
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=123
spring.jpa.hibernate.ddl-auto=update
spring.data.jpa.repositories.bootstrap-mode=default

# Activer la console H2 (utile pour les tests ou le développement)
spring.h2.console.enabled=true
spring.h2.console.path=/h2


resilience4j.circuitbreaker.enabled=true
resilience4j.retry.enabled=true
resilience4j.ratelimiter.enabled=true
resilience4j.timelimiter.enabled=true


resilience4j.circuitbreaker.instances.productService.slidingWindowSize=10
resilience4j.circuitbreaker.instances.productService.failure-rate-threshold=50
resilience4j.circuitbreaker.instances.productService.wait-duration-in-open-state=5s
resilience4j.circuitbreaker.instances.productService.permitted-number-of-calls-in-half-open-state=2
resilience4j.circuitbreaker.instances.productService.minimum-number-of-calls=5

resilience4j.retry.instances.productService.max-attempts=3
resilience4j.retry.instances.productService.wait-duration=2s

#Actuator
management.endpoints.web.exposure.include=refresh,env,health,customEndpoint,hystrix.stream
management.endpoint.env.access=unrestricted
management.endpoint.env.show-values=always
management.endpoint.env.post.enabled=true
management.endpoint.health.show-details=always
spring.devtools.livereload.enabled=true


#EUREKA
spring.cloud.discovery.enabled=true
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
eureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/
